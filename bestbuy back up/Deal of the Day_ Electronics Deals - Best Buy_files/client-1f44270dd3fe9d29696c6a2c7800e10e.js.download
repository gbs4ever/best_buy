var falcorModel=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";e.exports=n(3)},function(e,t){e.exports=falcor},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e,t,n){var r,i=[],s={url:e},u=-1!==e.indexOf("?"),c=u?"&":"?";return"string"==typeof n?i.push(n):(r=Object.keys(n),r.forEach(function(e){var t="object"===o(n[e])?JSON.stringify(n[e]):n[e];i.push(e+"="+encodeURIComponent(t))})),"GET"===t?s.url+=c+i.join("&"):s.data=i.join("&"),s}},function(e,t,n){"use strict";function o(e,t){var n;for(n in t)e[n]=t[n];return e}function r(e,t){if(this._jsongUrl=e,"number"==typeof t){t={timeout:t}}this._config=o({timeout:15e3,headers:{}},t||{})}var i=n(4),s=n(2);Array.isArray;r.prototype={constructor:r,buildQueryObject:s,get:function(e){var t=this.buildQueryObject(this._jsongUrl,"GET",{paths:e,method:"get"}),n=o(t,this._config);return i("GET",n,this)},set:function(e){var t,n;return this._config.headers&&this._config.headers["Content-Type"]&&this._config.headers["Content-Type"].match(/application\/json/)?t=o({url:this._jsongUrl,data:JSON.stringify({jsonGraph:JSON.stringify(e),method:"set"})},this._config):(n=this.buildQueryObject(this._jsongUrl,"POST",{jsonGraph:e,method:"set"}),t=o(n,this._config),t.headers["Content-Type"]="application/x-www-form-urlencoded"),i("POST",t,this)},call:function(e,t,n,r){t=t||[],n=n||[],r=r||[];var s,u,c=[];return this._config.headers&&this._config.headers["Content-Type"]&&this._config.headers["Content-Type"].match(/application\/json/)?s=o({url:this._jsongUrl,data:JSON.stringify({method:"call",callPath:JSON.stringify(e),arguments:JSON.stringify(t),pathSuffixes:JSON.stringify(n),paths:JSON.stringify(r)})},this._config):(c.push("method=call"),c.push("callPath="+encodeURIComponent(JSON.stringify(e))),c.push("arguments="+encodeURIComponent(JSON.stringify(t))),c.push("pathSuffixes="+encodeURIComponent(JSON.stringify(n))),c.push("paths="+encodeURIComponent(JSON.stringify(r))),u=this.buildQueryObject(this._jsongUrl,"POST",c.join("&")),s=o(u,this._config),s.headers["Content-Type"]="application/x-www-form-urlencoded"),i("POST",s,this)}},r.FetchHttpSource=r,r.default=r,e.exports=r},function(e,t,n){"use strict";function o(){}function r(e,t,n,o,i){return function(u){if(t<=0)return void e.onError(u);s(n,o,i).subscribe(function(t){e.onNext(t),e.onCompleted()},r(e,t-1,n,o,i),function(){})}}function i(e,t,n){if(void 0===t.retry||0===t.retry)return s(e,t,n);var i=t.retry,u=s(e,t,n);return o.create(function(o){u.subscribe(function(e){o.onNext(e),o.onCompleted()},r(o,i,e,t,n),function(){})})}function s(e,t,n){return o.create(function(o){t.onResponse||(t.onResponse=h);var r,i={method:e||"GET",crossDomain:!1,async:!0,headers:{},responseType:"json"};for(r in t)d.call(t,r)&&(i[r]=t[r]);null!=n.onBeforeRequest&&n.onBeforeRequest(i);var s={};i.crossDomain&&(s.mode="cors"),s.method=i.method,s.headers=i.headers||{},s.credentials=i.credentials||"omit",s.agent=i.agent||void 0,s.timeout=i.timeout||void 0,i.data&&(s.body=i.data);var c=l(i.url),y=c.paths;try{var m=JSON.parse(y)}catch(e){m=[]}var g=f(m,t.maxQuerySize||7e3),v=i.url.split("?")[0],b=[];for(var S in g){var O=g[S];y=JSON.stringify(O);var x=p(v,Object.assign({},c,{paths:O.length?y:void 0})),j=u(x,s).then(function(e){var n={};if(e.headers.entries){var o=!0,r=!1,u=void 0;try{for(var c,a=e.headers.entries()[Symbol.iterator]();!(o=(c=a.next()).done);o=!0){var f=c.value,l=f[0],p=f[1];n[l]=p}}catch(e){r=!0,u=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw u}}}else e.headers.forEach(function(e,t){n[t]=e});return e.ok?Promise.resolve(e.json()).then(function(o){return Promise.resolve(t.onResponse(i.url,e.status,s.headers,n,o,t)).then(function(){return o})}):Promise.resolve(t.onResponse(i.url,e.status,s.headers,n,void 0,t)).then(function(){throw new Error("Response code "+e.status)})});b.push(j)}return Promise.all(b).then(function(e){var t=e.reduce(function(e,t){return a(t,e)},{});o.onNext(t),o.onCompleted()}).catch(function(e){o.onError(e)}),function(){}})}var u=n(7),c=n(5),a=c.mergeResponses,f=c.breakQueryIntoSubQueries,l=c.getQueryObj,p=c.buildUrl,d=Object.prototype.hasOwnProperty,h=function(){};o.create=function(e){var t=new o;return t.subscribe=function(t,n,o){var r,i;return r="function"==typeof t?{onNext:t,onError:n||h,onCompleted:o||h}:t,i=e(r),"function"==typeof i?{dispose:i}:i},t},e.exports=i},function(e,t,n){"use strict";function o(e,t){if(e.length<=2)return[e];if(encodeURIComponent(JSON.stringify(e)).length<=t)return[e];for(var n=Math.ceil(e.length/2),r=[],i=[],s=0;s<n;s++)r.push(e[s]);for(s;s<e.length;s++)i.push(e[s]);return o(r).concat(o(i))}function r(e,t){for(var n in e)"string"==typeof e[n]||"number"==typeof e[n]||"boolean"==typeof e[n]||null===e[n]||void 0===e[n]?t[n]=e[n]:(t[n]=t[n]||{},t[n]=r(e[n],t[n]));return t}function i(e){var t=e.split("?");return(t.length>1?t[1].substring(0):"").split("&").reduce(function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e},{})}function s(e,t){var n=Object.keys(t).reduce(function(e,n){return t[n]&&n&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n])),e},[]).join("&");return n.length?e+"?"+n:e}e.exports={mergeResponses:r,breakQueryIntoSubQueries:o,getQueryObj:i,buildUrl:s}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),s=o(i),u=n(0),c=o(u),a=window.metaLayer||window._metaLayer;if(!a)throw new Error("Failed to find metaLayer or _metaLayer");if(!a.env_falcor)throw new Error("env_falcor not defined on metaLayer");var f=a.env_falcor,l=void 0;"object"===("undefined"==typeof configService?"undefined":r(configService))&&(l=configService.getServiceConfig("falcor")),l&&(l.defaults={client:{maxRetries:12,enableBatching:!0,modelBatchTime:30,maxQuerySize:7e3}});var p=new c.default(f.replace(/\/$/,"")+"/model.json",{credentials:"same-origin",maxQuerySize:l?l.get("client.maxQuerySize"):null}),d=window.falcorModelRoot=new s.default.Model({maxRetries:l?l.get("client.maxRetries"):3,source:p,comparator:function(e,t,n){void 0===t&&d.invalidate(n)},errorSelector:function(e){e.$expires=0}});l&&!0===l.get("client.enableBatching")&&(d=d.batch(l.get("client.modelBatchTime"))),location.href.indexOf("gvpDebug=true")>-1&&console.log("lib-falcor-model",l),e.exports=d},function(e,t){e.exports=fetch}]);