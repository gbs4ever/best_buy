webpackJsonpsetupWidgets([9],{367:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(455),r=n(o),u=i(462),m=n(u),d=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),t}(r.default);d.translate=m.default,t.default=d,e.exports=t.default},455:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(37),u=i(456),m=n(u),d=i(460),c=n(d),f=i(461),p=n(f),g=function(e){function t(e,i){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.setComponent(m.default),n}return l(t,e),o(t,[{key:"createMountElement",value:function(e){var t=this.data;return'\n\t\t\t<div class="widget widget-email-submission"\n\t\t\t\tid="widget-'+t.guid+'"\n\t\t\t\tdata-device-class="'+this.deviceClass+'"\n\t\t\t\tdata-library="EmailSubmissionWidget"\n\t\t\t\tdata-state=\''+JSON.stringify(t)+"'>\n\t\t\t\t"+e+"\n\t\t\t</div>\n\t\t"}},{key:"getCss",value:function(){return"s"===this.deviceClass?p.default:c.default}}]),t}(r.ReactWidget);t.default=g,e.exports=t.default},456:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.widget,i=(e.deviceClass,"theme-"+t.theme);return l.default.createElement("div",{className:i,"aria-labelledby":"email-head"},l.default.createElement(g.StaticContainer,{id:"email-head-container",map:t.staticContent},l.default.createElement(m.default,{className:t.headlerClassList,headText:t.headText}),l.default.createElement(c.default,{bodyCopy:t.bodyCopy,theme:i})),l.default.createElement(p.default,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=i(0),l=n(s),o=i(1),r=n(o),u=i(457),m=n(u),d=i(458),c=n(d),f=i(459),p=n(f),g=i(87);a.propTypes={deviceClass:r.default.oneOf(["s","m","l"]),widget:r.default.shape({headText:r.default.string.isRequired,headlerClassList:r.default.string,buttonClassName:r.default.string,bodyCopy:r.default.string,theme:r.default.string,disclaimer:r.default.string})},e.exports=t.default},457:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.className,i=e.headText;return l.default.createElement("div",{className:t,id:"email-head"},l.default.createElement("h2",{className:"v-fw-medium",dangerouslySetInnerHTML:{__html:i}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=i(0),l=n(s),o=i(1),r=n(o);a.propTypes={headText:r.default.string.isRequired,className:r.default.string},e.exports=t.default},458:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.bodyCopy;return"theme-blue"!==e.theme?null:l.default.createElement(u.StaticContainer,{id:"email-body-container",map:e.staticContent},t?l.default.createElement("div",{className:"email-body-copy v-fw-regular",dangerouslySetInnerHTML:{__html:t}}):null)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=i(0),l=n(s),o=i(1),r=n(o),u=i(87);a.propTypes={bodyCopy:r.default.string.isRequired,theme:r.default.string.isRequired,staticContent:r.default.object},e.exports=t.default},459:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(0),u=n(r),m=i(1),d=n(m),c=i(87),f=i(361),p=n(f),g=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.resetState=i.resetState.bind(i),i.handleSubmit=i.handleSubmit.bind(i),i.sendForm=i.sendForm.bind(i),i.onFetchSuccess=i.onFetchSuccess.bind(i),i.handleChange=i.handleChange.bind(i),i.state=i.originalState={isValidEmail:!0,isSuccess:!1,isFailure:!1,ariaAlert:!1,ariaAlertMsg:"",resetStateFlag:!1,showForm:!0},i}return l(t,e),o(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",null,this.state.showForm?u.default.createElement("form",{id:"emailSubmissionId",name:"emailSubmissionForm",ref:function(t){return e.emailForm=t},className:"email-submission-form",onSubmit:this.handleSubmit},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"label-wrap"},u.default.createElement(c.StaticContainer,{id:"email-label-container",map:this.props.staticContent},u.default.createElement("label",{htmlFor:"emailId",className:"email-label v-fw-medium"},this.props.senderEmailAddressLabel)),u.default.createElement("input",{id:"emailId",type:"text",name:"email",ref:function(t){return e.emailId=t},className:"email-txt-box",onChange:this.handleChange,"aria-describedby":this.state.isValidEmail?void 0:"emailInvalid"}),this.state.isValidEmail?void 0:u.default.createElement("p",{id:"emailInvalid",className:"error-msg"},u.default.createElement("span",{className:"ficon-alert-triangle"})," Please enter a valid email address.")),u.default.createElement(c.StaticContainer,{id:"button-wrap-container",map:this.props.staticContent},u.default.createElement("div",{className:"button-wrap"},u.default.createElement("input",{type:"submit",value:this.props.callToActionButton,"data-track":this.props.callToActionButton,className:this.props.buttonClassName,title:this.props.callToActionButton}))))):null,this.state.isSuccess?u.default.createElement("div",{className:"email-signup-success"},u.default.createElement("div",{className:"fistack","aria-hidden":"true"},u.default.createElement("i",{className:"ficon-2x ficon-circle"}),u.default.createElement("i",{className:"ficon-1x ficon-checkmark"})),u.default.createElement("span",{className:"v-fw-medium"},"Thank you for signing up!")):void 0,this.state.isFailure?u.default.createElement("div",{className:"email-signup-failure clearfix"},u.default.createElement("span",{className:"ficon-alert-triangle"}),u.default.createElement("span",{className:"failure-msg"},"Oops. Something went wrong. Please try again.")):void 0,u.default.createElement(c.StaticContainer,{id:"disclaimer-container",map:this.props.staticContent},this.props.disclaimer?u.default.createElement("p",{className:"disclaimer"},this.props.disclaimer):void 0),u.default.createElement("div",{role:"alert",className:"aria-alert sr-only"},this.state.ariaAlertMsg))}},{key:"handleChange",value:function(){this.state.resetStateFlag&&this.resetState()}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.emailId.value;return this.validateEmail(t)?(this.sendForm(t),!1):(this.setState({isValidEmail:!1,ariaAlert:!0,ariaAlertMsg:"Please enter a valid email address.",resetStateFlag:!0}),this.emailId.focus(),void p.default.trigger("pageEvent:error:client",{"Email Id":["Please enter a valid email address."]}))}},{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"sendForm",value:function(e){var t={emailAddress:e,subscriptions:[{id:this.props.subscriptionId}]},i=this.props.appServer+"/profile/rest/a/emailsub/enroll";fetch(i,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},credentials:"include"}).then(this.onFetchSuccess)}},{key:"onFetchSuccess",value:function(e){e.ok?(this.setState({isSuccess:!0,showForm:!1,ariaAlert:!0,ariaAlertMsg:"Thank you for signing up!"}),p.default.trigger("pageEvent:success",[{errorCode:e.status,errorMessage:e.statusText}]),setTimeout(function(){p.default.trigger("EmailSubmission:Update",{hideForever:!0})},3e3)):(this.setState({isFailure:!0,ariaAlert:!0,ariaAlertMsg:"Oops. Something went wrong. Please try again."}),this.emailId.focus(),p.default.trigger("EmailSubmission:Update",{hide:!0}),p.default.trigger("pageEvent:error",[{errorCode:e.status,errorMessage:e.statusText}]))}},{key:"resetState",value:function(){this.setState(this.originalState)}}]),t}(u.default.Component);t.default=g,g.propTypes={callToActionButton:d.default.string,buttonClassName:d.default.string,senderEmailAddressLabel:d.default.string.isRequired,staticContent:d.default.string.isRequired,disclaimer:d.default.string,subscriptionId:d.default.string.isRequired,appServer:d.default.string.isRequired},e.exports=t.default},460:function(e,t,i){t=e.exports=i(80)(!1),t.push([e.i,'.widget-email-submission {\n  font-family: "Human BBY Web", Arial, Helvetica, sans-serif;\n}\n.widget-email-submission .header {\n  border-bottom: 1px solid #c5cbd5;\n  padding: 15px 0 10px 0;\n  margin-bottom: 15px;\n}\n.widget-email-submission .header h2 {\n  color: #1d252c;\n  font-size: 20px;\n  margin: 0;\n}\n.widget-email-submission .header h2 p {\n  margin: 0;\n}\n.widget-email-submission .label-wrap,\n.widget-email-submission .button-wrap {\n  float: left;\n  padding: 0 15px;\n}\n.widget-email-submission .label-wrap {\n  margin-top: 5px;\n  width: 66.66%;\n}\n.widget-email-submission .button-wrap {\n  width: 33.33%;\n}\n.widget-email-submission .email-txt-box {\n  height: 35px;\n  width: 100%;\n  border-radius: 4px;\n  font-weight: normal;\n  padding: 6px 12px;\n  border: 1px solid #c5cbd5;\n}\n.widget-email-submission .btn {\n  width: 100%;\n  margin: 30px 0 0;\n  padding: 0 24px;\n}\n.widget-email-submission .small {\n  margin-top: 0;\n}\n.widget-email-submission label {\n  font-size: 15px;\n}\n.widget-email-submission .error-input {\n  padding-right: 35px;\n  border-color: #BB0628;\n  background: #f3e7e7;\n}\n.widget-email-submission .error-msg {\n  color: #bb0628;\n  font-size: 13px;\n  font-weight: normal;\n  margin-top: 10px;\n  margin-bottom: 0;\n}\n.widget-email-submission .ficon-checkmark-circle {\n  color: #318000;\n  margin-right: 7px;\n}\n.widget-email-submission .ficon-alert-triangle {\n  color: #bb0628;\n  float: left;\n  position: relative;\n  bottom: 3px;\n  margin-right: 5px;\n  font-size: 18px;\n}\n.widget-email-submission .failure-msg {\n  float: left;\n  color: #bb0628;\n}\n.widget-email-submission .email-signup-success,\n.widget-email-submission .email-signup-failure {\n  font-weight: bold;\n  text-align: center;\n  margin: 15px 0;\n  width: 100%;\n}\n.widget-email-submission .email-signup-success {\n  font-size: 15px;\n  position: relative;\n}\n.widget-email-submission .email-signup-success .fistack {\n  font-size: 2em;\n  vertical-align: middle;\n  margin-right: 5px;\n}\n.widget-email-submission .email-signup-success .ficon-circle {\n  color: #318000;\n}\n.widget-email-submission .email-signup-success .ficon-checkmark {\n  color: #fff;\n}\n.widget-email-submission .email-signup-failure {\n  font-size: 13px;\n  font-weight: normal;\n  text-align: left;\n  margin-top: 10px;\n  min-height: 20px;\n}\n.widget-email-submission p.disclaimer {\n  margin-bottom: 0;\n  margin-top: 20px;\n  font-size: 11px;\n}\n.widget-email-submission .theme-blue {\n  background: #0046be;\n  padding: 35px 17px;\n}\n.widget-email-submission .theme-blue .header {\n  background: none;\n  border: none;\n  padding: 0;\n  margin-bottom: 20px;\n}\n.widget-email-submission .theme-blue .header h2 {\n  color: #fff;\n}\n.widget-email-submission .theme-blue .header h2 p {\n  color: inherit;\n  text-transform: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n}\n.widget-email-submission .theme-blue .email-body-copy,\n.widget-email-submission .theme-blue p {\n  font-size: 13px;\n  color: #fff;\n  margin-bottom: 20px;\n}\n.widget-email-submission .theme-blue .email-label,\n.widget-email-submission .theme-blue .email-signup-success,\n.widget-email-submission .theme-blue .email-signup-failure,\n.widget-email-submission .theme-blue .ficon-alert-triangle,\n.widget-email-submission .theme-blue .failure-msg,\n.widget-email-submission .theme-blue .error-msg {\n  color: #fff;\n}\n.widget-email-submission .theme-blue .email-signup-success {\n  text-align: left;\n  position: relative;\n}\n.widget-email-submission .theme-blue .email-signup-success .fistack {\n  font-size: 2em;\n  vertical-align: middle;\n}\n.widget-email-submission .theme-blue .email-signup-success .ficon-circle {\n  font-size: 0.75em;\n  color: #fff;\n}\n.widget-email-submission .theme-blue .email-signup-success .ficon-checkmark {\n  color: #318000;\n}\n.widget-email-submission .theme-blue .error-msg {\n  margin-bottom: 0;\n}\n.col-xs-4 .widget-email-submission .label-wrap,\n.col-xs-4 .widget-email-submission .button-wrap {\n  width: 100%;\n}\n.col-xs-4 .widget-email-submission .label-wrap {\n  margin-top: 0;\n}\n.col-xs-4 .widget-email-submission .button-wrap input {\n  margin: 15px 0 0;\n}\n.col-xs-4 .widget-email-submission .theme-blue .button-wrap {\n  padding-left: 15px;\n}\n',""])},461:function(e,t,i){t=e.exports=i(80)(!1),t.push([e.i,'.widget-email-submission {\n  font-family: "Human BBY Web", Arial, Helvetica, sans-serif;\n}\n.widget-email-submission .header {\n  border-bottom: 1px solid #c5cbd5;\n  padding: 15px 0 10px 0;\n  margin-bottom: 15px;\n}\n.widget-email-submission .header h2 {\n  color: #1d252c;\n  font-size: 20px;\n  margin: 0;\n}\n.widget-email-submission .header h2 p {\n  margin: 0;\n  padding: 10px 15px;\n}\n.widget-email-submission .label-wrap,\n.widget-email-submission .button-wrap {\n  float: left;\n  width: 100%;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.widget-email-submission .email-txt-box {\n  height: 35px;\n  width: 100%;\n  border-radius: 4px;\n  font-weight: normal;\n  padding: 6px 12px;\n  border: 1px solid #c5cbd5;\n  font-size: 16px;\n}\n.widget-email-submission .btn {\n  width: 100%;\n  margin: 15px 0 0;\n  padding: 0 24px;\n}\n.widget-email-submission .small {\n  margin-top: 0;\n}\n.widget-email-submission label {\n  font-size: 15px;\n}\n.widget-email-submission .error-input {\n  padding-right: 35px;\n  border-color: #BB0628;\n  background: #f3e7e7;\n}\n.widget-email-submission .error-msg {\n  color: #BB0628;\n  font-size: 13px;\n  font-weight: normal;\n  margin-top: 10px;\n  margin-bottom: 15px;\n}\n.widget-email-submission .ficon-checkmark-circle {\n  color: #308c00;\n}\n.widget-email-submission .ficon-alert-triangle {\n  color: #bb0628;\n  float: left;\n  position: relative;\n  bottom: 3px;\n  margin-right: 5px;\n  font-size: 18px;\n}\n.widget-email-submission .email-signup-success,\n.widget-email-submission .email-signup-failure {\n  font-weight: bold;\n  text-align: center;\n  margin: 15px 15px 0;\n  min-height: 64px;\n  width: 100%;\n}\n.widget-email-submission .email-signup-success {\n  font-size: 15px;\n  position: relative;\n}\n.widget-email-submission .email-signup-success .fistack {\n  font-size: 2em;\n  vertical-align: middle;\n  margin-right: 5px;\n}\n.widget-email-submission .email-signup-success .ficon-circle {\n  color: #318000;\n}\n.widget-email-submission .email-signup-success .ficon-checkmark {\n  color: #fff;\n}\n.widget-email-submission .email-signup-failure {\n  font-size: 13px;\n  font-weight: normal;\n  color: #BB0628;\n  text-align: left;\n  margin: 10px 0 0 0;\n  min-height: 20px;\n}\n.widget-email-submission p.disclaimer {\n  margin-bottom: 0;\n  margin-top: 20px;\n  font-size: 11px;\n}\n.widget-email-submission .theme-blue {\n  background: #0046be;\n  padding: 35px 17px;\n}\n.widget-email-submission .theme-blue .header {\n  background: none;\n  border: none;\n  padding: 0;\n  margin-bottom: 20px;\n}\n.widget-email-submission .theme-blue .header h2 {\n  color: #fff;\n}\n.widget-email-submission .theme-blue .header h2 p {\n  color: inherit;\n  text-transform: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  padding: 1px;\n}\n.widget-email-submission .theme-blue .label-wrap,\n.widget-email-submission .theme-blue .button-wrap {\n  padding: 0px 17px;\n}\n.widget-email-submission .theme-blue .email-body-copy,\n.widget-email-submission .theme-blue p {\n  font-size: 13px;\n  color: #fff;\n  margin-bottom: 20px;\n}\n.widget-email-submission .theme-blue .body-copy {\n  font-size: 13px;\n  color: #fff;\n  margin-bottom: 20px;\n}\n.widget-email-submission .theme-blue .email-label,\n.widget-email-submission .theme-blue .email-signup-success,\n.widget-email-submission .theme-blue .email-signup-failure,\n.widget-email-submission .theme-blue .ficon-alert-triangle,\n.widget-email-submission .theme-blue .failure-msg,\n.widget-email-submission .theme-blue .error-msg {\n  color: #fff;\n}\n.widget-email-submission .theme-blue .email-signup-success {\n  text-align: left;\n  position: relative;\n}\n.widget-email-submission .theme-blue .email-signup-success .fistack {\n  font-size: 2em;\n  vertical-align: middle;\n}\n.widget-email-submission .theme-blue .email-signup-success .ficon-circle {\n  font-size: 0.75em;\n  color: #fff;\n}\n.widget-email-submission .theme-blue .email-signup-success .ficon-checkmark {\n  color: #318000;\n}\n',""])},462:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(463);t.default=n.translate,e.exports=t.default},463:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translate=void 0;var n=i(81),a=i(84);t.translate=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={widgetType:(0,n.get)(e,"widgetType"),guid:(0,n.get)(e,"guid"),subscriptionId:(0,n.get)(e,"subscriptionId"),widgetForgeTypeName:"@shop/widget-email-submission",appServer:(0,n.get)(i,"metaLayer.env_appServer"),headText:(0,n.get)(e,"headText")||(0,n.get)(e,"content.headline"),bodyCopy:(0,n.get)(e,"content.bodyCopy"),theme:(0,n.get)(e,"theme"),analyticsContext:(0,n.get)(e,"analyticsContext"),senderEmailAddressLabel:(0,n.get)(e,"content.senderEmailAddressLabel"),callToActionButton:(0,n.get)(e,"content.callToActionButton"),disclaimer:(0,n.get)(e,"content.disclaimer"),hasStatic:i.hasStatic};return s.headlerClassList="header "+("blue"!==e.theme?"bleed-margin ":"")+"email-widget-headline",s.buttonClassName="btn "+("blue"===e.theme?"btn-primary":"btn-secondary"),s=(0,a.markdownToMarkupWidget)(s,[],["bodyCopy","headText"])}}});