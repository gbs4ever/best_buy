/* Src File:"widget-forge-container/client-37590a1c3df938b2d8a1068a768ddcbb.js" @ Mon Jan 28 2019 15:23:00 GMT-0600 (CST) Group_ID: com.bestbuy.frontend.browse GIT_BRANCH: origin/release/19.05 BUILD_CAUSE: MANUALTRIGGER Build Version: version-not-found */

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require(void 0)):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports.WidgetForgeContainer=t(require(void 0)):e.WidgetForgeContainer=t(e.$)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var module=n[r]={i:r,l:!1,exports:{}};return e[r].call(module.exports,module,module.exports,t),module.l=!0,module.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(exports,e,n){t.o(exports,e)||Object.defineProperty(exports,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return t.d(e,"a",e),e},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(2),o=t(i),u=e(1),a=e(3),c=t(a),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;n(this,e),this.context=t,this.containers=[],this.clientHelper=new u.ClientHelper(this.context)}return r(e,[{key:"createClientContainer",value:function(e){var t=new o.default(this,(0,c.default)(e));return this.containers.push(t),t}},{key:"setup",value:function(){var e=[];return this.containers.forEach(function(t){e.push(t.setup())}),Promise.all(e)}}]),e}();exports.default=l,module.exports=exports.default},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();exports.ClientHelper=function(){function e(n){t(this,e),this.win=n,this.widgetCache=new Map,this.setupWidgets=this.setupWidgets.bind(this)}return n(e,[{key:"setupWidgets",value:function(e,t){var n=this.win;t=t||n.document;var r=t.querySelectorAll(e);if(0===r.length)return!1;for(var i=[],o=0;o<r.length;o++){var u=r[o],a=u.getAttribute("data-state")||"{}";a=JSON.parse(a),u.id||(u.id=a.id);var c=u.getAttribute("data-device-class"),l=u.getAttribute("data-library");i.push({libraryName:l,data:a,deviceClass:c,element:u})}return i.forEach(function(e){var t={};if(this.widgetCache.has(e.data.id))t=this.widgetCache.get([e.data.id]);else{var r=n[e.libraryName];r&&"function"==typeof r&&(t=new r(e.data,e.deviceClass),this.widgetCache.set(e.data.id,t))}"function"==typeof t.setup&&t.setup(e.element)}.bind(this)),!0}},{key:"teardownWidgets",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.widgetCache.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.teardown()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.widgetCache.clear()}}]),e}()},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(n,r){t(this,e),this.el=r,this.context=n.context,this.clientHelper=n.clientHelper,this.clientProviders=[]}return n(e,[{key:"addClientProvider",value:function(e){void 0!==e&&"function"==typeof e.provide&&this.clientProviders.push(e)}},{key:"setup",value:function(){var e=this,t=[];return this.clientProviders.forEach(function(n){t.push(n.provide(e))}),Promise.all(t)}}]),e}();exports.default=r,module.exports=exports.default},function(module,exports){module.exports=e},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=e(0),n=function(e){return e&&e.__esModule?e:{default:e}}(t);exports.default=n.default,module.exports=exports.default}])});